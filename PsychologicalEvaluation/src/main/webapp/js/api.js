(function(){var l=function(n,p){var o=0,m=n.length;for(;o<m;o++){p.call(n[o],o,n[o])}};var k=function(n){var m=n.match(/^\w+\:\/\/[^\/]+/i);return m&&m[0]};var h="*",g=/\.baidu\.com/i;var c={invokes:{},listen:function(){window.addEventListener("message",function(p){var m=k(p.origin);if(g.test(m)){var o=p.data,n=c.invokes[o.api];n&&n.fn.call(n.scope,o.params,p)}},false)},send:function(m){window.parent.postMessage(m,h)},reg:function(m,o,n){c.invokes[m]={fn:o,scope:n}}};var b=window.baidu=window.baidu||{};var f=b.webapp={};var i={name:["refresh","fullscreen","transferData","resize","collect","getLocation"],fnames:["start","end","success","error","timeout"],constructors:{},instances:{}};l(i.name,function(o,m){var n=m;i.constructors[n]=function(){};i.instances[n]=new i.constructors[n]();f[n]=function(q){var p=q||{};i.instances[n].opt=p;l(i.fnames,function(s,r){var u=r,t=[n,u].join(".");p[u]&&c.reg(t,p[u],i.instances[n]);i.constructors[n].prototype[u]=function(v){c.send({api:t,params:v});p[u]&&p[u].call(i.instances[n],v);return i.instances[n]}});return i.instances[n]}});c.reg("init",function(m,n){h=k(n.origin)});c.listen();var d={ft:+new Date(),dt:+new Date(),lt:+new Date()};var e={classPrefix:"BD_WA_LOG_",classArr:["LINK","PIC","FORM","TAB","BTN","GES"],getType:function(y,p){var v,u,q=y,m=y,w=e.classPrefix,o=e.classArr,x=o.length;while(!v&&q&&q!==p){for(var s=0;s<x;s++){if(q.className.indexOf(w+o[s])>=0){v=o[s];m=q;break}}q=q.parentNode}if(v){var n=document.querySelectorAll("."+w+v),r=n.length;for(var s=0;s<r;s++){if(n[s]===m){u=s+1;break}}if(u){return[v.charAt(0).toLowerCase(),u].join("_")}}return""},send:function(m,o){var n=e.getType(m,o);if(!n){return}c.send({api:"log",params:{ala_app_clk:n,ala_app_clk_t:m.textContent}})}};var j=false;var a=function(){j=true;document.body.addEventListener("touchend",function(n){var m=n.target;m&&e.send(m,document.body)},false)};document.addEventListener("DOMContentLoaded",function(){d.dt=+new Date();!j&&a()},false);window.addEventListener("load",function(){d.lt=+new Date();!j&&a();setTimeout(function(){c.send({api:"log",params:{ala_app_mon:[d.ft,d.dt,d.lt].join("_")}})},1000)},false)})();